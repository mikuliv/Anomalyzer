
# ðŸ›¡ï¸ Anomalyzer â€” ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ð¸Ñ Ð°Ð½Ð¾Ð¼Ð°Ð»Ð¸Ð¹ Ð² ÑÐµÑ‚ÐµÐ²Ð¾Ð¼ Ñ‚Ñ€Ð°Ñ„Ð¸ÐºÐµ Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð˜Ð˜

**Anomalyzer** â€” ÑÑ‚Ð¾ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð´Ð»Ñ Ð²Ñ‹ÑÐ²Ð»ÐµÐ½Ð¸Ñ ÑÐµÑ‚ÐµÐ²Ñ‹Ñ… Ð°Ð½Ð¾Ð¼Ð°Ð»Ð¸Ð¹ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð½ÐµÐ¹Ñ€Ð¾ÑÐµÑ‚Ð¸ (MLP) Ñ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸ÐµÐ¹ Ð² ÑÑ‚ÐµÐº ELK. ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð±Ñ‹Ð» Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½ Ð¸ Ð·Ð°Ñ‰Ð¸Ñ‰Ñ‘Ð½ ÐºÐ°Ðº Ð²Ñ‹Ð¿ÑƒÑÐºÐ½Ð°Ñ ÐºÐ²Ð°Ð»Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ð² Ð¸ÑŽÐ½Ðµ 2025 Ð³Ð¾Ð´Ð°, Ð° Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¾Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ð½ Ð´Ð»Ñ ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð° Ð¿Ð¾Ð´ Ð»Ð¸Ñ†ÐµÐ½Ð·Ð¸ÐµÐ¹ GPLv3.

---

## ðŸ“– ÐžÐ±Ñ‰ÐµÐµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ

Anomalyzer ÐºÐ»Ð°ÑÑÐ¸Ñ„Ð¸Ñ†Ð¸Ñ€ÑƒÐµÑ‚ ÑÐµÑ‚ÐµÐ²Ñ‹Ðµ Ð¿Ð¾Ñ‚Ð¾ÐºÐ¸ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ 78 Ñ‡Ð¸ÑÐ»Ð¾Ð²Ñ‹Ñ… Ð¿Ñ€Ð¸Ð·Ð½Ð°ÐºÐ¾Ð², Ð¸Ð·Ð²Ð»ÐµÑ‡Ñ‘Ð½Ð½Ñ‹Ñ… Ð¸Ð· Ð´Ð°Ñ‚Ð°ÑÐµÑ‚Ð° CICIDS2017. ÐžÐ½ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÑ‚ Ð¿Ñ€Ð¾Ð³Ð½Ð¾Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð¿Ñ€ÐµÐ´Ð²Ð°Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð½Ð¾Ð¹ Ð¼Ð¾Ð´ÐµÐ»Ð¸ MLP (Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ ONNX), API Ð½Ð° FastAPI Ð¸ Ð²Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ñ‡ÐµÑ€ÐµÐ· Kibana.

---

## ðŸŽ¯ Ð¦ÐµÐ»Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

- âœ… ÐžÐ±ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²ÑƒÑŽ Ð½ÐµÐ¹Ñ€Ð¾ÑÐµÑ‚ÑŒ Ð´Ð»Ñ ÐºÐ»Ð°ÑÑÐ¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ ÑÐµÑ‚ÐµÐ²Ð¾Ð³Ð¾ Ñ‚Ñ€Ð°Ñ„Ð¸ÐºÐ°
- âœ… Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ ONNX Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°
- âœ… Ð Ð°Ð·Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ REST API Ð½Ð° FastAPI Ð´Ð»Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
- âœ… Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Logstash, Ñ‡Ð¸Ñ‚Ð°ÑŽÑ‰Ð¸Ð¼ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ CSV
- âœ… Ð’Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ñ‡ÐµÑ€ÐµÐ· Kibana
- âœ… ÐžÐ±ÐµÑÐ¿ÐµÑ‡Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ½Ð¾ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· Docker Compose

---

## ðŸ—ï¸ ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

![ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°](docs/screenshots/Docker_Project.png)

---

## ðŸ”¬ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸

- **PyTorch** â€” Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð½ÐµÐ¹Ñ€Ð¾ÑÐµÑ‚Ð¸
- **ONNX** â€” Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½-Ð¸Ð½Ñ„ÐµÑ€ÐµÐ½Ñ
- **FastAPI** â€” REST API
- **Scikit-learn** â€” LabelEncoder, SMOTE, Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
- **Elasticsearch** â€” Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ð¹
- **Logstash** â€” Ð¿Ñ€Ð¸Ñ‘Ð¼ Ð¸ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ñ‚Ð¾ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…
- **Kibana** â€” Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¸ Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°
- **Docker / Compose** â€” ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¸ Ð·Ð°Ð¿ÑƒÑÐº

---

## ðŸ“¦ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ

```bash
Anomalyzer/
â”œâ”€â”€ model-training/       # ÐšÐ¾Ð´ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ, API Ð¸ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
â”œâ”€â”€ pretrained-models/    # ONNX-Ð¼Ð¾Ð´ÐµÐ»ÑŒ, scaler, ÑÐ¿Ð¸ÑÐ¾Ðº ÐºÐ»Ð°ÑÑÐ¾Ð²
â”œâ”€â”€ runtime-system/       # docker-compose, logstash, ml-api
â”œâ”€â”€ docs/                 # Ð¡Ñ…ÐµÐ¼Ñ‹, Ð³Ñ€Ð°Ñ„Ð¸ÐºÐ¸, ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ñ‹
â””â”€â”€ README.md             # Ð­Ñ‚Ð¾ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ
```

---

## ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

> Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ: ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ Docker Ð¸ Docker Compose

```bash
cd runtime-system
cp .env.example .env
docker-compose up --build
```

- `ml-api`: http://localhost:8000/predict
- `logstash` ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ `.csv` Ð¸Ð· `logstash/data/*.csv`
- `kibana`: http://localhost:5601

---

## ðŸ§ª ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ° Ðº API

```http
POST /predict
Content-Type: application/json

{
  "features": [123, 6, 200000, 10, 8, 500, 400, ..., 0]
}
```

ÐžÑ‚Ð²ÐµÑ‚:
```json
{
  "predicted_class": "BENIGN",
  "probabilities": {
    "BENIGN": 0.992,
    "DDoS": 0.003,
    ...
  }
}
```

---

## ðŸ“Š ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ð¼Ð¾Ð´ÐµÐ»Ð¸

| ÐœÐµÑ‚Ñ€Ð¸ÐºÐ°     | Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ |
|-------------|----------|
| Accuracy    | 0.987    |
| F1-Score    | 0.986    |
| ROC-AUC     | 0.993    |
| Precision   | 0.988    |
| Recall      | 0.984    |

---

## ðŸ§¬ ÐžÐ± Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐµ Ð´Ð°Ð½Ð½Ñ‹Ñ…

ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð´Ð°Ñ‚Ð°ÑÐµÑ‚ **CICIDS2017**, Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ ÐšÐ°Ð½Ð°Ð´ÑÐºÐ¸Ð¼ Ð¸Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ‚Ð¾Ð¼ ÐºÐ¸Ð±ÐµÑ€Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸:

ðŸ”— [https://www.unb.ca/cic/datasets/ids-2017.html](https://www.unb.ca/cic/datasets/ids-2017.html)

Ð’ÑÐµ Ð¿Ñ€Ð°Ð²Ð° Ð¸ Ð¸ÑÑ…Ð¾Ð´Ð½Ð°Ñ Ñ€Ð°Ð·Ð¼ÐµÑ‚ÐºÐ° Ð¿Ñ€Ð¸Ð½Ð°Ð´Ð»ÐµÐ¶Ð°Ñ‚ Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ¸Ñ‚ÐµÑ‚Ñƒ ÐÑŒÑŽ-Ð‘Ñ€Ð°Ð½ÑÑƒÐ¸ÐºÐ°.

---

## ðŸ‘¨â€ðŸ’» ÐÐ²Ñ‚Ð¾Ñ€

**Ð ÑƒÑÐ»Ð°Ð½ ÐŸÐ¾ÐºÐ°Ñ‚Ð¸Ð»Ð¾Ð²**  
Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ: 10.02.05 â€” ÐžÐ±ÐµÑÐ¿ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð¾Ð¹ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸  
ÐšÑ€Ð°ÑÐ½Ñ‹Ð¹ Ð´Ð¸Ð¿Ð»Ð¾Ð¼, Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð² Ð¸ÑŽÐ½Ðµ 2025 Ð³Ð¾Ð´Ð°  

---

## âš–ï¸ Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ

ÐŸÑ€Ð¾ÐµÐºÑ‚ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ Ð¿Ð¾ Ð»Ð¸Ñ†ÐµÐ½Ð·Ð¸Ð¸ **GNU General Public License v3.0**.

> Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ, Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð¸ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÑ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð¿Ñ€Ð¸ ÑÐ¾Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ð¸ ÑƒÑÐ»Ð¾Ð²Ð¸Ð¹ Ð»Ð¸Ñ†ÐµÐ½Ð·Ð¸Ð¸ GPLv3  
> ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ: https://www.gnu.org/licenses/gpl-3.0.html
